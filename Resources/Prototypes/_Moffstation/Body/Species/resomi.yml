- type: entity
  parent: BaseSpeciesAppearance
  id: AppearanceResomi
  name: resomi appearance
  components:
  - type: Sprite # Drawlayers. Top to bottom in order I believe.
    netsync: false
    layers:
    # Torso
    - map: [ "enum.HumanoidVisualLayers.Chest" ]

    # Head
    - map: [ "enum.HumanoidVisualLayers.Head" ]
    - map: [ "enum.HumanoidVisualLayers.Snout" ]
    - map: [ "enum.HumanoidVisualLayers.Eyes" ]

    # Limbs
    - map: [ "enum.HumanoidVisualLayers.RArm" ]
    - map: [ "enum.HumanoidVisualLayers.LArm" ]
    - map: [ "enum.HumanoidVisualLayers.RLeg" ]
    - map: [ "enum.HumanoidVisualLayers.LLeg" ]

    # Underwear
    - map: [ "enum.HumanoidVisualLayers.UndergarmentBottom" ]
    - map: [ "enum.HumanoidVisualLayers.UndergarmentTop" ]
    - map: [ "jumpsuit" ]

    # Extremities
    - map: [ "enum.HumanoidVisualLayers.LHand" ]
    - map: [ "enum.HumanoidVisualLayers.RHand" ]
    - map: [ "enum.HumanoidVisualLayers.LFoot" ]
    - map: [ "enum.HumanoidVisualLayers.RFoot" ]

    # More equipment
    - map: [ "gloves" ]
    - map: [ "shoes" ]
    - map: [ "ears" ]
    - map: [ "eyes" ]
    - map: [ "id" ]
    - map: [ "outerClothing" ]
    - map: [ "belt" ]
    - map: [ "enum.HumanoidVisualLayers.Tail" ] # Resomi currently have their tail behind their backpack.
    - map: [ "back" ]
    - map: [ "neck" ]

    # Stuff that appears above equipment.
    - map: [ "enum.HumanoidVisualLayers.SnoutCover" ]
    - map: [ "enum.HumanoidVisualLayers.FacialHair" ]
    - map: [ "enum.HumanoidVisualLayers.Hair" ]
    - map: [ "enum.HumanoidVisualLayers.HeadSide" ]
    - map: [ "enum.HumanoidVisualLayers.HeadTop" ]

    # Stuff that goes in front of stuff that goes in front of equipment
    - map: [ "mask" ]
    - map: [ "head" ]
    - map: [ "pocket1" ]
    - map: [ "pocket2" ]

    # Extras
    - map: [ "enum.HumanoidVisualLayers.Handcuffs" ] # Custom cuffs currently don't appear, #38451 tries to fix it is stuck in limbo.
      color: "#ffffff"
      sprite: _Moffstation/Objects/Misc/handcuffs.rsi
      state: body-overlay-resomi
      visible: false
    - map: [ "clownedon" ] # Custom Resomi creampie :GODO:
      sprite: "_Moffstation/Effects/creampie.rsi"
      state: "creampie_resomi"
      visible: false
  - type: Inventory
    speciesId: resomi
    displacements:
      jumpsuit:
        sizeMaps:
          32:
            sprite: _Moffstation/Mobs/Species/Resomi/displacement.rsi
            state: jumpsuit
      head:
        sizeMaps:
          32:
            sprite: _Moffstation/Mobs/Species/Resomi/displacement.rsi
            state: head
      eyes:
        sizeMaps:
          32:
            sprite: _Moffstation/Mobs/Species/Resomi/displacement.rsi
            state: eyes
      gloves:
        sizeMaps:
          32:
            sprite: _Moffstation/Mobs/Species/Resomi/displacement.rsi
            state: hands
      back:
        sizeMaps:
          32:
            sprite: _Moffstation/Mobs/Species/Resomi/displacement.rsi
            state: back
      ears:
        sizeMaps:
          32:
            sprite: _Moffstation/Mobs/Species/Resomi/displacement.rsi
            state: ears
      shoes:
        sizeMaps:
          32:
            sprite: _Moffstation/Mobs/Species/Resomi/displacement.rsi
            state: feet
      neck:
        sizeMaps:
          32:
            sprite: _Moffstation/Mobs/Species/Resomi/displacement.rsi
            state: neck
      mask:
        sizeMaps:
          32:
            sprite: _Moffstation/Mobs/Species/Resomi/displacement.rsi
            state: mask
      outerClothing:
        sizeMaps:
          32:
            sprite: _Moffstation/Mobs/Species/Resomi/displacement.rsi
            state: outerClothing
      suitstorage:
        sizeMaps:
          32:
            sprite: _Moffstation/Mobs/Species/Resomi/displacement.rsi
            state: suitStorage
      belt:
        sizeMaps:
          32:
            sprite: _Moffstation/Mobs/Species/Resomi/displacement.rsi
            state: belt
    femaleDisplacements:
      jumpsuit:
        sizeMaps:
          32:
            sprite: _Moffstation/Mobs/Species/Resomi/displacement.rsi
            state: jumpsuit
      head:
        sizeMaps:
          32:
            sprite: _Moffstation/Mobs/Species/Resomi/displacement.rsi
            state: head
      eyes:
        sizeMaps:
          32:
            sprite: _Moffstation/Mobs/Species/Resomi/displacement.rsi
            state: eyes
      gloves:
        sizeMaps:
          32:
            sprite: _Moffstation/Mobs/Species/Resomi/displacement.rsi
            state: hands
      back:
        sizeMaps:
          32:
            sprite: _Moffstation/Mobs/Species/Resomi/displacement.rsi
            state: back
      ears:
        sizeMaps:
          32:
            sprite: _Moffstation/Mobs/Species/Resomi/displacement.rsi
            state: ears
      shoes:
        sizeMaps:
          32:
            sprite: _Moffstation/Mobs/Species/Resomi/displacement.rsi
            state: feet
      neck:
        sizeMaps:
          32:
            sprite: _Moffstation/Mobs/Species/Resomi/displacement.rsi
            state: neck
      mask:
        sizeMaps:
          32:
            sprite: _Moffstation/Mobs/Species/Resomi/displacement.rsi
            state: mask
      outerClothing:
        sizeMaps:
          32:
            sprite: _Moffstation/Mobs/Species/Resomi/displacement.rsi
            state: outerClothing
      suitstorage:
        sizeMaps:
          32:
            sprite: _Moffstation/Mobs/Species/Resomi/displacement.rsi
            state: suitStorage
      belt:
        sizeMaps:
          32:
            sprite: _Moffstation/Mobs/Species/Resomi/displacement.rsi
            state: belt
  - type: Hands
    handDisplacement:
      sizeMaps:
        32:
          sprite: _Moffstation/Mobs/Species/Resomi/displacement.rsi
          state: inHand
  - type: EntityTableContainerFill
    containers:
      body_organs: !type:AllSelector
        children:
        - id: OrganResomiTorso
        - id: OrganResomiHead
        - id: OrganResomiArmLeft
        - id: OrganResomiArmRight
        - id: OrganResomiHandRight
        - id: OrganResomiHandLeft
        - id: OrganResomiLegLeft
        - id: OrganResomiLegRight
        - id: OrganResomiFootLeft
        - id: OrganResomiFootRight
        - id: OrganResomiBrain
        - id: OrganResomiEyes
        - id: OrganResomiTongue
        - id: OrganResomiAppendix
        - id: OrganResomiEars
        - id: OrganResomiLungs
        - id: OrganResomiHeart
        - id: OrganResomiStomach
        - id: OrganResomiLiver
        - id: OrganResomiKidneys
  - type: HumanoidAppearance
    species: Resomi
    undergarmentTop: UndergarmentTopTanktopResomi
    undergarmentBottom: UndergarmentBottomBoxersResomi
  - type: FireVisuals
    sprite: _Moffstation/Mobs/Effects/onfire.rsi
    normalState: Resomi_minor_burning
    alternateState: Resomi_burning

- type: entity
  parent:
  - AppearanceResomi
  - BaseSpeciesMobOrganic
  id: MobResomi
  name: Urist McChicken
  components:
  - type: Damageable
    damageModifierSet: Resomi
  - type: Speech
    speechVerb: Resomi
    speechSounds: UnisexResomi
    allowedEmotes: [ 'Chirp', 'Trill', 'Scree', 'Call', 'Squawk' ]
  - type: TypingIndicator
    proto: resomi
  - type: Vocal
    sounds:
      Male: UnisexResomi
      Female: UnisexResomi
      Unsexed: UnisexResomi
  - type: Butcherable
    butcheringType: Spike
    spawned:
    - id: FoodMeatChicken
      amount: 3
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTypeTrigger
        damageType: Caustic
        damage: 400
      behaviors:
      - !type:SpawnEntitiesBehavior
        spawnInContainer: false
        spawn:
          Acidifier:
            min: 1
            max: 1
      - !type:GibBehavior { }
    - trigger:
        !type:DamageTypeTrigger
        damageType: Blunt
        damage: 400
      behaviors:
      - !type:GibBehavior { }
    - trigger:
        !type:DamageTypeTrigger
        damageType: Heat
        damage: 1500
      behaviors:
      - !type:SpawnEntitiesBehavior
        spawnInContainer: true
        spawn:
          FoodMeatChickenFriedResomi:
            min: 3
            max: 5
      - !type:BurnBodyBehavior
        popupMessage: bodyburn-resomi-text-others
      - !type:PlaySoundBehavior
        sound:
          collection: MeatLaserImpact
    - trigger:
        !type:DamageTypeTrigger
        damageType: Radiation
        damage: 15
      behaviors:
      - !type:PopupBehavior
        popup: mouth-taste-metal
        popupType: LargeCaution
        targetOnly: true
    - trigger:
        !type:DamageTypeTrigger
        damageType: Radiation
        damage: 40
      behaviors:
      - !type:VomitBehavior
  - type: DamageVisuals
    thresholds: [ 25, 50, 75, 100 ]
    targetLayers:
    - "enum.HumanoidVisualLayers.Chest"
    - "enum.HumanoidVisualLayers.Head"
    - "enum.HumanoidVisualLayers.LArm"
    - "enum.HumanoidVisualLayers.LLeg"
    - "enum.HumanoidVisualLayers.RArm"
    - "enum.HumanoidVisualLayers.RLeg"
    - "enum.HumanoidVisualLayers.RHand"
    - "enum.HumanoidVisualLayers.LHand"
    - "enum.HumanoidVisualLayers.RFoot"
    - "enum.HumanoidVisualLayers.LFoot"
    damageOverlayGroups:
      Brute:
        sprite: _Moffstation/Mobs/Effects/Resomi/brute_damage.rsi
        color: "#C048C2"
      Burn:
        sprite: _Moffstation/Mobs/Effects/Resomi/burn_damage.rsi
  - type: MeleeWeapon
    soundHit:
      path: /Audio/Weapons/pierce.ogg
    animation: WeaponArcClaw
    attackRate: 1.2 # Attacks a little faster.
    damage:
      types:
        Slash: 5
  - type: RecoilKickSusceptible
    massFactor: 0.7
  - type: Temperature
    specificHeat: 44
  - type: TemperatureDamage # Similar to Avali
    heatDamageThreshold: 325
    coldDamageThreshold: 230
    coldDamage:
      types:
        Cold: 0.1 # Per second, scales with temperature & other constants
    heatDamage:
      types:
        Heat: 1.5 # Per second, scales with temperature & other constants
  - type: TemperatureProtection
    heatingCoefficient: 1.2
    coolingCoefficient: 0.50
  - type: NightVision
  - type: FlashModifier
    modifier: 2


- type: entity
  parent: OrganBase
  id: OrganResomi
  abstract: true
  suffix: Resomi

- type: entity
  id: OrganResomiMetabolizer
  abstract: true
  components:
  - type: Metabolizer
    metabolizerTypes: [ Resomi ]

- type: entity
  parent: OrganResomi
  id: OrganResomiInternal
  abstract: true
  components:
  - type: Sprite
    sprite: Mobs/Species/Human/organs.rsi

- type: entity
  parent: OrganResomi
  id: OrganResomiExternal
  abstract: true
  components:
  - type: Sprite
    sprite: _Moffstation/Mobs/Species/Resomi/parts.rsi

- type: entity
  parent: [ OrganBaseTorso, OrganResomiExternal ]
  id: OrganResomiTorso

- type: entity
  parent: [ OrganBaseHead, OrganResomiExternal ]
  id: OrganResomiHead

- type: entity
  parent: [ OrganBaseArmLeft, OrganResomiExternal ]
  id: OrganResomiArmLeft

- type: entity
  parent: [ OrganBaseArmRight, OrganResomiExternal ]
  id: OrganResomiArmRight

- type: entity
  parent: [ OrganBaseHandLeft, OrganResomiExternal ]
  id: OrganResomiHandLeft

- type: entity
  parent: [ OrganBaseHandRight, OrganResomiExternal ]
  id: OrganResomiHandRight

- type: entity
  parent: [ OrganBaseLegLeft, OrganResomiExternal ]
  id: OrganResomiLegLeft

- type: entity
  parent: [ OrganBaseLegRight, OrganResomiExternal ]
  id: OrganResomiLegRight

- type: entity
  parent: [ OrganBaseFootLeft, OrganResomiExternal ]
  id: OrganResomiFootLeft

- type: entity
  parent: [ OrganBaseFootRight, OrganResomiExternal ]
  id: OrganResomiFootRight

- type: entity
  parent: [ OrganBaseBrain, OrganSpriteHumanInternal, OrganResomiInternal ]
  id: OrganResomiBrain

- type: entity
  parent: [ OrganBaseEyes, OrganResomiInternal ]
  id: OrganResomiEyes

- type: entity
  parent: [ OrganBaseTongue, OrganResomiInternal ]
  id: OrganResomiTongue

- type: entity
  parent: [ OrganBaseAppendix, OrganSpriteHumanInternal, OrganResomiInternal ]
  id: OrganResomiAppendix

- type: entity
  parent: [ OrganBaseEars, OrganSpriteHumanInternal, OrganResomiInternal ]
  id: OrganResomiEars

- type: entity
  parent: [ OrganBaseLungs, OrganResomiInternal, OrganResomiMetabolizer ]
  id: OrganResomiLungs

- type: entity
  parent: [ OrganBaseHeart, OrganResomiInternal, OrganResomiMetabolizer ]
  id: OrganResomiHeart

- type: entity
  parent: [ OrganBaseStomach, OrganResomiInternal, OrganResomiMetabolizer ]
  id: OrganResomiStomach

- type: entity
  parent: [ OrganBaseLiver, OrganSpriteHumanInternal, OrganResomiInternal, OrganResomiMetabolizer ]
  id: OrganResomiLiver

- type: entity
  parent: [ OrganBaseKidneys, OrganSpriteHumanInternal, OrganResomiInternal, OrganResomiMetabolizer ]
  id: OrganResomiKidneys
